<!DOCTYPE html>
<html lang="en">

<head>
	<!-- My CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
		type="text/css" />
	<link href="https://fonts.googleapis.com/css2?family=Archivo:wght@600;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
		type="text/css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.1.1/css/hover-min.css"
		type="text/css" />
	<link rel="stylesheet" href="assets/css/style.css">
	<style>
		/* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
		#map {
			height: 100%;
			width: 100%;
		}

		/* Optional: Makes the sample page fill the window. */
		html,
		body {
			height: 100%;
			width: 100%;
			margin: 0;
			padding: 0;
		}

		body {
			padding: 0 !important;
		}

		table {
			font-size: 12px;
		}

		.hotel-search {
			-webkit-box-align: center;
			-ms-flex-align: center;
			align-items: center;
			background: #fff;
			display: -webkit-box;
			display: -ms-flexbox;
			display: flex;
			position: relative;
			width: 440px;
			z-index: 1;
		}

		#map {
			margin-top: 1%;
			height: 100%;
			width: 100%;
		}

		#listing {
			position: absolute;
			width: 200px;
			height: 470px;
			overflow: auto;
			left: 442px;
			top: 0px;
			cursor: pointer;
			overflow-x: hidden;
		}

		#findhotels {
			font-size: 14px;
		}

		#locationField {
			-webkit-box-flex: 1 1 190px;
			-ms-flex: 1 1 190px;
			flex: 1 1 190px;
			margin: 0 8px;
		}

		#controls {
			-webkit-box-flex: 1 1 140px;
			-ms-flex: 1 1 140px;
			flex: 1 1 140px;
		}

		#autocomplete {
			width: 100%;
		}

		#country {
			width: 100%;
		}

		.placeIcon {
			width: 20px;
			height: 34px;
			margin: 4px;
		}

		.hotelIcon {
			width: 24px;
			height: 24px;
		}

		#resultsTable {
			border-collapse: collapse;
			width: 240px;
		}

		#rating {
			font-size: 13px;
			font-family: Arial Unicode MS;
		}

		.iw_table_row {
			height: 18px;
		}

		.iw_attribute_name {
			font-weight: bold;
			text-align: right;
		}

		.iw_table_icon {
			text-align: right;
			position: relative;
		}
	</style>



	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>BeenThere</title>
</head>

<body>
	<!--BeenThere Explanation-->
	<div class="jumbotron jumbotron-fluid background">
		<div class="container centre padding">
			<a href="index.html" id="link">
				<h1 class="display-4 background">BeenThere<img class="bean" src="assets/images/bean.png"></h1>
					<p class="lead background"><i>We have been there - have you?</i></p>
			</a>
		</div>
		<div class="alert" role="alert">
			<h3><b>BeenThere</b></h3>
			<h5> gives you <b><i>curated holiday itineraries</i></b> that have been specially designed for you by
				locals.
				Our locals also choose different restaurants, hotels and bars each week to give you the true flavours of
				our monthly 5 destination cities.</h5>
			<br>
			<h6>Enjoy your holidays,</h6><br>
			<h6><i><b>Your BeenThere Team</b></i></h6>
		</div>
	</div>
    <div>
    	<div class="centre padding">
		<button id="beentherebtn" class="btn btn-dark btn-md" role="button">Curated Trip</button>
		<button id="hotelsbtn" class="btn btn-dark btn-md" role="button">Search for Hotels</button>
	</div>
    <img id="homepage-pic" class = "img-fluid padding" src="assets/images/bookingjourney.jpg" alt="Book your holiday">
    </div>



	<div id="beentheresection">
		<h1 class="section-heading padding centre">Choose</h1>

		<!--5 cities buttons-->
		<div class="centre padding">
			<a class="btn btn-dark" href="nice.html" role="button">Nice</a>
			<a class="btn btn-dark" href="ibiza.html" role="button">Ibiza</a>
			<a class="btn btn-dark" href="berlin.html" role="button">Berlin</a>
			<a class="btn btn-dark" href="paris.html" role="button">Paris</a>
			<a class="btn btn-dark" href="london.html" role="button">London</a>
		</div>

		<!--Carousel as visual enticement and a second call to action on page-->


		<div id="carousel" class="carousel slide" data-ride="carousel">
			<ol class="carousel-indicators">
				<li data-target="#carousel" data-slide-to="0" class="active"></li>
				<li data-target="#carousel" data-slide-to="1"></li>
				<li data-target="#carousel" data-slide-to="2"></li>
				<li data-target="#carousel" data-slide-to="3"></li>
				<li data-target="#carousel" data-slide-to="4"></li>
			</ol>
			<div class="carousel-inner">
				<div class="carousel-item active">
					<img class="d-block w-100" src="assets/images/nice.jpg" alt="Nice">
					<div class="carousel-caption d-none d-md-block">
						<h5><b>Nice</b></h5>
						<p><b>Visit it's organic food markets and peruse the nice stone beaches</b></p>
					</div>
				</div>
				<div class="carousel-item">
					<img class="d-block w-100" src="assets/images/ibiza.jpg" alt="Ibiza">
					<div class="carousel-caption d-none d-md-block">
						<h5><b>Ibiza</b></h5>
						<p><b>Visit it's iconic night life and eat a paella at the beach.</b></p>
					</div>
				</div>
				<div class="carousel-item">
					<img class="d-block w-100" src="assets/images/berlin.jpg" alt="Berlin">
					<div class="carousel-caption d-none d-md-block">
						<h5><b>Berlin</b></h5>
						<p><b>Come to Berlin to see the amazing caf√©s and eat a bretzel.</b></p>
					</div>
				</div>
				<div class="carousel-item">
					<img class="d-block w-100" src="assets/images/paris.jpg" alt="Paris">
					<div class="carousel-caption d-none d-md-block">
						<h5><b>Paris</b></h5>
						<p><b>Come see the Paris night-life.</b></p>
					</div>
				</div>
				<div class="carousel-item">
					<img class="d-block w-100" src="assets/images/london.jpg" alt="London">
					<div class="carousel-caption d-none d-md-block">
						<h5><b>London</b></h5>
						<p><b>Wander throught the famous London markets and enjoy a meal in a nice restaurant.</b></p>
					</div>
				</div>
			</div>
			<a class="carousel-control-prev" href="#carouselCaptions" role="button" data-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="sr-only">Previous</span>
			</a>
			<a class="carousel-control-next" href="#carouselaptions" role="button" data-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="sr-only">Next</span>
			</a>
		</div>
	</div>
<!--Hotel Section-->

	<div id="hotelsection">
    <h1 class="section-heading padding centre">Hotels</h1>
		<div class="hotel-search">


			<div id="locationField" class="padding centre">
				<input id="autocomplete" placeholder="Enter a city" type="text" />
      </div>
				<div id="listing">
					<table id="resultsTable">
						<tbody id="results"></tbody>
					</table>
				</div>


				<div id="controls">
					<select id="country">
          <option value="fr" selected>France</option>
          <option value="de">Germany</option>
          <option value="es">Spain</option>
          <option value="uk">United Kingdom</option>
        </select>
				</div>
			</div>
<!--Map-->
			<div id="map"></div>

			<div>
				<button type="button" id="closeBtn" class="btn btn-sm btn-info centre padding">Hide Search Table</button>
			</div>
			<div style="display: none">
				<div id="info-content">
					<table>
						<tr id="iw-url-row" class="iw_table_row">
							<td id="iw-icon" class="iw_table_icon"></td>
							<td id="iw-url"></td>
						</tr>
						<tr id="iw-address-row" class="iw_table_row">
							<td class="iw_attribute_name">Address:</td>
							<td id="iw-address"></td>
						</tr>
						<tr id="iw-phone-row" class="iw_table_row">
							<td class="iw_attribute_name">Telephone:</td>
							<td id="iw-phone"></td>
						</tr>
						<tr id="iw-rating-row" class="iw_table_row">
							<td class="iw_attribute_name">Rating:</td>
							<td id="iw-rating"></td>
						</tr>
						<tr id="iw-website-row" class="iw_table_row">
							<td class="iw_attribute_name">Website:</td>
							<td id="iw-website"></td>
						</tr>
					</table>
				</div>
			</div>





			<!--Social Media-->
			<div class="col-12 centre padding">

				<ul class="list-inline ">
					<li class="list-inline-item">
						<a target="_blank" href="https://facebook.com/">
							<i class="fa fa-facebook" aria-hidden="true"></i>
							<span class="sr-only">Facebook</span>
						</a>
					</li>
					<li class="list-inline-item">
						<a target="_blank" href="https://www.twitter.com/">
							<i class="fa fa-twitter" aria-hidden="true"></i>
							<span class="sr-only">Twitter</span>
						</a>
					</li>
					<li class="list-inline-item">
						<a target="_blank" href="https://www.instagram.com/">
							<i class="fa fa-instagram" aria-hidden="true"></i>
							<span class="sr-only">Instagram</span>
						</a>
					</li>

				</ul>

			</div>

			<!--Scripts
<script>
var map;
function initMap() {
  map = new google.maps.Map(document.getElementById("map"), {
    center: { lat: 54.5260, lng: 15.2551},
    zoom: 3,
    mapId:'da36f271281c5584'
  });
}
</script>
-->

			<script>
				document.getElementById("closeBtn").addEventListener("click", function(){
              document.getElementById("listing").style.display = "none";
                });
			</script>
            <!--
            <script>
				document.getElementById("hotelsection").document.getElementsByTagName("a").addEventListener("click", function(){
              document.navigate("book.html");
                });
			</script>
            -->

			<script>
				document.getElementById("beentherebtn").addEventListener("click", function(){
              document.getElementById("beentheresection").style.display = "block";
              document.getElementById("homepage-pic").style.display = "none";
              document.getElementById("hotelsection").style.display = "none";
                });
			</script>
			<script>
				document.getElementById("hotelsbtn").addEventListener("click", function(){
              document.getElementById("hotelsection").style.display = "block";
              document.getElementById("homepage-pic").style.display = "none";
              document.getElementById("beentheresection").style.display = "none";
                });
			</script>
			<script>
				var map, places, infoWindow;
      var markers = [];
      var autocomplete;
      var countryRestrict = {'country': 'fr'};
      var MARKER_PATH = 'https://developers.google.com/maps/documentation/javascript/images/marker_green';
      var hostnameRegexp = new RegExp('^https?://.+?/');

      var countries = {

        'fr': {
          center: {lat: 46.2, lng: 2.2},
          zoom: 5
        },
        'de': {
          center: {lat: 51.2, lng: 10.4},
          zoom: 5
        },

        'es': {
          center: {lat: 40.5, lng: -3.7},
          zoom: 5
        },

        'uk': {
          center: {lat: 54.8, lng: -4.6},
          zoom: 5
        }
      };

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: countries['fr'].zoom,
          center: countries['fr'].center,
          mapTypeControl: false,
          panControl: false,
          zoomControl: false,
          streetViewControl: false
        });

        infoWindow = new google.maps.InfoWindow({
          content: document.getElementById('info-content')
        });

        // Create the autocomplete object and associate it with the UI input control.
        // Restrict the search to the default country, and to place type "cities".
        autocomplete = new google.maps.places.Autocomplete(
            /** @type {!HTMLInputElement} */ (
                document.getElementById('autocomplete')), {
              types: ['(cities)'],
              componentRestrictions: countryRestrict
            });
        places = new google.maps.places.PlacesService(map);

        autocomplete.addListener('place_changed', onPlaceChanged);

        // Add a DOM event listener to react when the user selects a country.
        document.getElementById('country').addEventListener(
            'change', setAutocompleteCountry);
      }

      // When the user selects a city, get the place details for the city and
      // zoom the map in on the city.
      function onPlaceChanged() {
        var place = autocomplete.getPlace();
        if (place.geometry) {
          map.panTo(place.geometry.location);
          map.setZoom(15);
          search();
        } else {
          document.getElementById('autocomplete').placeholder = 'Enter a city';
        }
      }

      // Search for hotels in the selected city, within the viewport of the map.
      function search() {
        var search = {
          bounds: map.getBounds(),
          types: ['lodging']
        };

        places.nearbySearch(search, function(results, status) {
          if (status === google.maps.places.PlacesServiceStatus.OK) {
            clearResults();
            clearMarkers();
            // Create a marker for each hotel found, and
            // assign a letter of the alphabetic to each marker icon.
            for (var i = 0; i < results.length; i++) {
              var markerLetter = String.fromCharCode('A'.charCodeAt(0) + (i % 26));
              var markerIcon = MARKER_PATH + markerLetter + '.png';
              // Use marker animation to drop the icons incrementally on the map.
              markers[i] = new google.maps.Marker({
                position: results[i].geometry.location,
                animation: google.maps.Animation.DROP,
                icon: markerIcon
              });
              // If the user clicks a hotel marker, show the details of that hotel
              // in an info window.
              markers[i].placeResult = results[i];
              google.maps.event.addListener(markers[i], 'click', showInfoWindow);
              setTimeout(dropMarker(i), i * 100);
              addResult(results[i], i);
            }
          }
        });
      }

      function clearMarkers() {
        for (var i = 0; i < markers.length; i++) {
          if (markers[i]) {
            markers[i].setMap(null);
          }
        }
        markers = [];
      }

      // Set the country restriction based on user input.
      // Also center and zoom the map on the given country.
      function setAutocompleteCountry() {
        var country = document.getElementById('country').value;
        if (country == 'all') {
          autocomplete.setComponentRestrictions({'country': []});
          map.setCenter({lat: 15, lng: 0});
          map.setZoom(2);
        } else {
          autocomplete.setComponentRestrictions({'country': country});
          map.setCenter(countries[country].center);
          map.setZoom(countries[country].zoom);
        }
        clearResults();
        clearMarkers();
      }

      function dropMarker(i) {
        return function() {
          markers[i].setMap(map);
        };
      }

      function addResult(result, i) {
        var results = document.getElementById('results');
        var markerLetter = String.fromCharCode('A'.charCodeAt(0) + (i % 26));
        var markerIcon = MARKER_PATH + markerLetter + '.png';

        var tr = document.createElement('tr');
        tr.style.backgroundColor = (i % 2 === 0 ? '#F0F0F0' : '#FFFFFF');
        tr.onclick = function() {
          google.maps.event.trigger(markers[i], 'click');
        };

        var iconTd = document.createElement('td');
        var nameTd = document.createElement('td');
        var icon = document.createElement('img');
        icon.src = markerIcon;
        icon.setAttribute('class', 'placeIcon');
        icon.setAttribute('className', 'placeIcon');
        var name = document.createTextNode(result.name);
        iconTd.appendChild(icon);
        nameTd.appendChild(name);
        tr.appendChild(iconTd);
        tr.appendChild(nameTd);
        results.appendChild(tr);
      }

      function clearResults() {
        var results = document.getElementById('results');
        while (results.childNodes[0]) {
          results.removeChild(results.childNodes[0]);
        }
      }

      // Get the place details for a hotel. Show the information in an info window,
      // anchored on the marker for the hotel that the user selected.
      function showInfoWindow() {
        var marker = this;
        places.getDetails({placeId: marker.placeResult.place_id},
            function(place, status) {
              if (status !== google.maps.places.PlacesServiceStatus.OK) {
                return;
              }
              infoWindow.open(map, marker);
              buildIWContent(place);
            });
      }

      // Load the place information into the HTML elements used by the info window.
      function buildIWContent(place) {
        document.getElementById('iw-icon').innerHTML = '<img class="hotelIcon" ' +
            'src="' + place.icon + '"/>';
        document.getElementById('iw-url').innerHTML = '<b><a href="' + place.url +
            '">' + place.name + '</a></b>';
        document.getElementById('iw-address').textContent = place.vicinity;

        if (place.formatted_phone_number) {
          document.getElementById('iw-phone-row').style.display = '';
          document.getElementById('iw-phone').textContent =
              place.formatted_phone_number;
        } else {
          document.getElementById('iw-phone-row').style.display = 'none';
        }

        // Assign a five-star rating to the hotel, using a black star ('&#10029;')
        // to indicate the rating the hotel has earned, and a white star ('&#10025;')
        // for the rating points not achieved.
        if (place.rating) {
          var ratingHtml = '';
          for (var i = 0; i < 5; i++) {
            if (place.rating < (i + 0.5)) {
              ratingHtml += '&#10025;';
            } else {
              ratingHtml += '&#10029;';
            }
          document.getElementById('iw-rating-row').style.display = '';
          document.getElementById('iw-rating').innerHTML = ratingHtml;
          }
        } else {
          document.getElementById('iw-rating-row').style.display = 'none';
        }

        // The regexp isolates the first part of the URL (domain plus subdomain)
        // to give a short URL for displaying in the info window.
        if (place.website) {
          var fullUrl = place.website;
          var website = hostnameRegexp.exec(place.website);
          if (website === null) {
            website = 'http://' + place.website + '/';
            fullUrl = website;
          }
          document.getElementById('iw-website-row').style.display = '';
          document.getElementById('iw-website').textContent = website;
        } else {
          document.getElementById('iw-website-row').style.display = 'none';
        }
      }
			</script>
			<script
				src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDzo-_U1f436QKoOQAjTYwFpVRKu6XSR24&libraries=places&callback=initMap"
				async defer></script>


			<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
				integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
				crossorigin="anonymous">
			</script>
			<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
				integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
				crossorigin="anonymous">
			</script>
			<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
				integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
				crossorigin="anonymous">
			</script>

</body>

</html>